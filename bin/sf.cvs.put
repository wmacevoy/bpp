#!/bin/bash
export CVS_RSH=ssh
for d in tests doc src
do
  if [ -f "$d/commit.txt" ] ; then
    msg=`cat "$d/commit.txt"`
    echo "Committing $d with message $msg...";
    cd $d
    cvs -d:ext:wmacevoy@cvs.sourceforge.net:/cvsroot/bpp commit -m $(find . -path ./CVS -prune -o -print)
    cvs -d:ext:wmacevoy@cvs.sourceforge.net:/cvsroot/bpp commit -m "$msg"
    cd ..
  else
    echo "skipping $d because there is no $d/commit.txt file..."
  fi
done
