 //
 // read in our form using JDOM
 //
 org.jdom.Element form = 
      new org.jdom.input.SAXBuilder().build(
         new BufferedInputStream(
             new FileInputStream("MyForm.xml")))
                .getRootElement();

 String v(org.jdom.Element element, String attribute) {
   return element.getAttributeValue(attribute);
 }
out.println("<html>");
out.print("<form name=\"");out.print(v(form,"name"));out.println("\">");
for(e:form.getChildren("element")) {
  String type=v(e,"type");
  String name=v(e,"name");
  String value=v(e,"value");
  if (type.equals("label")) {
out.print("     <label id=\"");out.print(name);out.print("\">");out.print(value);out.println("</label>");
  } else if (type.equals("textbox")) {
out.print("     <input id=\"");out.print(name);out.print("\" type=\"textbox\" name=\"");out.print(name);out.print("\" value=\"");out.print(value);out.println("\"/>");
  } else { // throw error at preprocess time...
     throw new RuntimeException("Unknown element type: "+type);
  }
} // for each element
out.println("</form>");
out.println("</html>");
